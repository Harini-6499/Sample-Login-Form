<!DOCTYPE html>
<html>
<head>
  <title>HTML FORM</title>
  <style>
    body {
      background-color: #f0f4f8;
      font-family: sans-serif;
      padding: 10px;
      color: #333;
    }
    header {
      background-color: #333;
      text-align: center;
      color: white;
      margin-bottom: 15px;
      padding: 20px;
      font-size: 20px;
    }
    form {
      width: 400px;
      margin: auto;
      background-color: white;
      padding: 50px;
      border-radius: 10px;
      box-shadow: 0 0 15px black;
    }
    label {
      font-weight: bold;
    }

    /* RED BORDER FOR INVALID FIELDS */
    .error {
      border: 2px solid red !important;
    }
  </style>

<script>
function validateForm() {

  // Get all fields
  let fname = document.getElementById("fname");
  let lname = document.getElementById("lname");
  let dob = document.getElementById("dob");
  let email = document.getElementById("email");
  let phone = document.getElementById("phone");
  let age = document.getElementById("age");
  let password = document.getElementById("password");
  let cpassword = document.getElementById("cpassword");
  let gender = document.querySelector('input[name="gender"]:checked');

  // Remove old error borders
  [fname, lname, dob, email, phone, age, password, cpassword].forEach(field => field.classList.remove("error"));

  // First Name
  if (fname.value.trim() === "") {
    fname.classList.add("error");
    alert("First Name cannot be empty!");
    return false;
  }

  // Last Name
  if (lname.value.trim() === "") {
    lname.classList.add("error");
    alert("Last Name cannot be empty!");
    return false;
  }

  // Gender
  if (!gender) {
    alert("Please select your gender!");
    return false;
  }

  // Email
  let emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
  if (!emailPattern.test(email.value.trim())) {
    email.classList.add("error");
    alert("Enter a valid email!");
    return false;
  }

  // Phone (10 digits)
  let phonePattern = /^[0-9]{10}$/;
  if (!phonePattern.test(phone.value.trim())) {
    phone.classList.add("error");
    alert("Enter a valid 10-digit phone number!");
    return false;
  }

  // Age
  if (age.value.trim() === "" || isNaN(age.value) || age.value <= 0) {
    age.classList.add("error");
    alert("Please enter a valid age!");
    return false;
  }

  // Password rule
  let passwordPattern = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/;
  if (!passwordPattern.test(password.value)) {
    password.classList.add("error");
    alert("Password must be at least 8 characters and contain one letter and one number!");
    return false;
  }

  // Confirm Password
  if (password.value !== cpassword.value) {
    cpassword.classList.add("error");
    alert("Passwords do not match!");
    return false;
  }

  // DOB empty
  if (dob.value === "") {
    dob.classList.add("error");
    alert("Please select your date of birth!");
    return false;
  }

  // Future date check
  let dobDate = new Date(dob.value);
  let today = new Date();
  if (dobDate >= today) {
    dob.classList.add("error");
    alert("Invalid date of birth!");
    return false;
  }

  alert("Form submitted successfully!");
  return true;
}
</script>
</head>

<body>

<header>Profile Setup</header>

<form id="myform" action="submit" method="post" onsubmit="return validateForm()">

  <label for="fname">First Name:</label><br>
  <input type="text" id="fname" name="fname"><br><br>

  <label for="lname">Last Name:</label><br>
  <input type="text" id="lname" name="lname"><br><br>

  <label for="dob">Date of Birth:</label><br>
  <input type="date" id="dob" name="dob"><br><br>

  <label>Gender:</label><br>
  <input type="radio" id="male" name="gender" value="Male"> <label for="male">Male</label><br>
  <input type="radio" id="female" name="gender" value="Female"> <label for="female">Female</label><br><br>

  <label for="email">Email:</label><br>
  <input type="text" id="email" name="email"><br><br>

  <label for="phone">Phone Number:</label><br>
  <input type="text" id="phone" name="phone" maxlength="10"><br><br>

  <label for="age">Age:</label><br>
  <input type="text" id="age" name="age"><br><br>

  <label for="password">Password:</label><br>
  <input type="password" id="password" name="password"><br><br>

  <label for="cpassword">Confirm Password:</label><br>
  <input type="password" id="cpassword" name="cpassword"><br><br>

  <input type="submit" value="Submit"><br><br>

  <div class="form-footer">
    <a href="main page.html">Go Back To Home</a>
  </div>

</form>

</body>
</html>
